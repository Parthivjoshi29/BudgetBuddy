<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>BudgetBuddy - Track Your Expenses</title>
    <link
      href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
    />
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body class="bg-gray-100 dark:bg-gray-900 transition-colors duration-200">
    <div class="container mx-auto px-4 py-8 max-w-4xl">
      <!-- Header -->
      <header class="flex justify-between items-center mb-8">
        <div class="flex items-center">
          <i class="fas fa-wallet text-3xl text-blue-500 mr-2"></i>
          <h1
            class="text-2xl md:text-3xl font-bold text-gray-800 dark:text-white"
          >
            BudgetBuddy
          </h1>
        </div>
        <div class="flex items-center space-x-4">
          <!-- Currency Selector -->
          <select
            id="currency-selector"
            class="bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-700 rounded-md px-3 py-2 text-gray-700 dark:text-gray-200"
          >
            <option value="USD">$ USD</option>
            <option value="EUR">€ EUR</option>
            <option value="GBP">£ GBP</option>
            <option value="JPY">¥ JPY</option>
            <option value="INR">₹ INR</option>
          </select>
          <!-- Theme Toggle -->
          <!-- Theme Toggle -->
          <button
            id="theme-toggle"
            class="p-2 rounded-full bg-gray-200 dark:bg-gray-700"
          >
            <i class="fas fa-sun text-yellow-500 dark:hidden"></i>
            <i class="fas fa-moon text-blue-300 hidden dark:block"></i>
          </button>
        </div>
      </header>

      <!-- Balance Overview -->
      <div class="bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 mb-6">
        <h2 class="text-xl font-semibold text-gray-700 dark:text-gray-200 mb-4">
          Balance Overview
        </h2>
        <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
          <div class="bg-blue-50 dark:bg-blue-900/30 p-4 rounded-lg">
            <p class="text-sm text-black">Current Balance</p>
            <p id="current-balance" class="text-2xl font-bold text-black">
              $0.00
            </p>
          </div>
          <div class="bg-green-50 dark:bg-green-900/30 p-4 rounded-lg">
            <p class="text-sm text-black">Income</p>
            <p
              id="total-income"
              class="text-2xl font-bold text-green-600 dark:text-green-400"
            >
              $0.00
            </p>
          </div>
          <div class="bg-red-50 dark:bg-red-900/30 p-4 rounded-lg">
            <p class="text-sm text-blackwh">Expenses</p>
            <p
              id="total-expenses"
              class="text-2xl font-bold text-red-600 dark:text-red-400"
            >
              $0.00
            </p>
          </div>
        </div>
      </div>

      <!-- Add Transaction -->
      <div class="bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 mb-6">
        <h2 class="text-xl font-semibold text-gray-700 dark:text-gray-200 mb-4">
          Add Transaction
        </h2>
        <form id="transaction-form" class="space-y-4">
          <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
            <div>
              <label
                for="transaction-name"
                class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"
                >Description</label
              >
              <input
                type="text"
                id="transaction-name"
                class="w-full px-3 py-2 border border-gray-300 dark:border-gray-700 rounded-md bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-200"
                placeholder="What was it for?"
                required
              />
            </div>
            <div>
              <label
                for="transaction-amount"
                class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"
                >Amount</label
              >
              <input
                type="number"
                id="transaction-amount"
                class="w-full px-3 py-2 border border-gray-300 dark:border-gray-700 rounded-md bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-200"
                placeholder="0.00"
                step="0.01"
                required
              />
            </div>
          </div>
          <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
            <div>
              <label
                for="transaction-date"
                class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"
                >Date</label
              >
              <input
                type="date"
                id="transaction-date"
                class="w-full px-3 py-2 border border-gray-300 dark:border-gray-700 rounded-md bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-200"
                required
              />
            </div>
            <div>
              <label
                for="transaction-category"
                class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"
                >Category</label
              >
              <select
                id="transaction-category"
                class="w-full px-3 py-2 border border-gray-300 dark:border-gray-700 rounded-md bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-200"
                required
              >
                <option value="">Select a category</option>
                <optgroup label="Income">
                  <option value="salary">Salary</option>
                  <option value="freelance">Freelance</option>
                  <option value="investment">Investment</option>
                  <option value="gift">Gift</option>
                  <option value="other-income">Other Income</option>
                </optgroup>
                <optgroup label="Expense">
                  <option value="food">Food & Dining</option>
                  <option value="transportation">Transportation</option>
                  <option value="housing">Housing & Rent</option>
                  <option value="utilities">Utilities</option>
                  <option value="entertainment">Entertainment</option>
                  <option value="shopping">Shopping</option>
                  <option value="health">Health & Medical</option>
                  <option value="education">Education</option>
                  <option value="personal">Personal Care</option>
                  <option value="travel">Travel</option>
                  <option value="debt">Debt Payment</option>
                  <option value="other-expense">Other Expense</option>
                </optgroup>
              </select>
            </div>
          </div>
          <div>
            <label
              for="transaction-type"
              class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"
              >Type</label
            >
            <div class="flex space-x-4">
              <label class="inline-flex items-center">
                <input
                  type="radio"
                  name="transaction-type"
                  value="income"
                  class="form-radio text-green-600"
                  checked
                />
                <span class="ml-2 text-gray-700 dark:text-gray-300"
                  >Income</span
                >
              </label>
              <label class="inline-flex items-center">
                <input
                  type="radio"
                  name="transaction-type"
                  value="expense"
                  class="form-radio text-red-600"
                />
                <span class="ml-2 text-gray-700 dark:text-gray-300"
                  >Expense</span
                >
              </label>
            </div>
          </div>
          <div>
            <label
              for="transaction-notes"
              class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"
              >Notes (Optional)</label
            >
            <textarea
              id="transaction-notes"
              class="w-full px-3 py-2 border border-gray-300 dark:border-gray-700 rounded-md bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-200"
              rows="2"
              placeholder="Add any additional notes"
            ></textarea>
          </div>
          <div class="flex justify-end">
            <button
              type="submit"
              class="px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors"
            >
              Add Transaction
            </button>
          </div>
        </form>
      </div>

      <!-- Recent Transactions -->
      <div class="bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 mb-6">
        <div class="flex justify-between items-center mb-4">
          <h2 class="text-xl font-semibold text-gray-700 dark:text-gray-200">
            Recent Transactions
          </h2>
          <div class="flex space-x-2">
            <select
              id="filter-transactions"
              class="px-3 py-1 border border-gray-300 dark:border-gray-700 rounded-md bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-200 text-sm"
            >
              <option value="all">All</option>
              <option value="income">Income</option>
              <option value="expense">Expense</option>
            </select>
            <select
              id="sort-transactions"
              class="w-full md:w-auto px-3 py-1 border border-gray-300 dark:border-gray-700 rounded-md bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-200 text-sm"
            >
              <option value="date-desc">Newest First</option>
              <option value="date-asc">Oldest First</option>
              <option value="amount-desc">Highest Amount</option>
              <option value="amount-asc">Lowest Amount</option>
            </select>
          </div>
        </div>
        <div class="overflow-x-auto">
          <table
            class="min-w-full divide-y divide-gray-200 dark:divide-gray-700"
          >
            <thead class="bg-gray-50 dark:bg-gray-700">
              <tr>
                <th
                  class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"
                >
                  Date
                </th>
                <th
                  class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"
                >
                  Description
                </th>
                <th
                  class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"
                >
                  Category
                </th>
                <th
                  class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"
                >
                  Amount
                </th>
                <th
                  class="px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"
                >
                  Actions
                </th>
              </tr>
            </thead>
            <tbody
              id="transactions-table-body"
              class="bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"
            >
              <!-- Transactions will be added here dynamically -->
              <tr class="text-gray-500 dark:text-gray-400 text-center">
                <td colspan="5" class="px-6 py-4">No transactions yet</td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>

      <!-- Analytics Section -->

      <!-- Budget Section -->
      <div class="bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 mb-6">
        <div class="flex justify-between items-center mb-4">
          <h2 class="text-xl font-semibold text-gray-700 dark:text-gray-200">
            Budget Tracker
          </h2>
          <button
            id="add-budget-btn"
            class="px-3 py-1 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors text-sm"
          >
            <i class="fas fa-plus mr-1"></i> Add Budget
          </button>
        </div>
        <div id="budgets-container" class="space-y-4">
          <!-- Budgets will be added here dynamically -->
          <p
            id="no-budgets-message"
            class="text-gray-500 dark:text-gray-400 text-center py-4"
          >
            No budgets set. Click "Add Budget" to create one.
          </p>
        </div>
      </div>

      <!-- Export/Import Section -->
      <div class="bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 mb-6">
        <h2 class="text-xl font-semibold text-gray-700 dark:text-gray-200">
          Data Management
        </h2>
        <div class="flex flex-wrap gap-4">
          <button
            id="export-data"
            class="px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors"
          >
            <i class="fas fa-download mr-2"></i>Export Data
          </button>
          <div class="relative">
            <button
              id="import-btn"
              class="px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors"
            >
              <i class="fas fa-upload mr-2"></i>Import Data
            </button>
            <input type="file" id="import-data" class="hidden" accept=".json" />
          </div>
          <button
            id="clear-data"
            class="px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors"
          >
            <i class="fas fa-trash-alt mr-2"></i>Clear All Data
          </button>
        </div>
      </div>

      <!-- Footer -->
      <footer class="text-center text-gray-600 dark:text-gray-400 mt-8 pb-8">
        <p>© 2023 BudgetBuddy. All rights reserved By Parthiv C. Joshi.</p>
        <div class="flex justify-center space-x-4"></div>

        <p>
          <a href="https://www.linkedin.com/in/parthiv-joshi-8a7766281//" target="_blank" class="text-blue-500 hover:text-blue-700">
            <i class="fab fa-linkedin mr-1"></i>LinkedIn
          </a> | 
          <a href="https://github.com/Parthivjoshi29" target="_blank" class="text-blue-500 hover:text-blue-700">
            <i class="fab fa-github mr-1"></i>GitHub
          </a>
        </p>
      </footer>
      
    </div>

    <!-- Modal for adding budget -->
    <div
      id="budget-modal"
      class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden"
    >
      <div
        class="bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6 w-full max-w-md"
      >
        <div class="flex justify-between items-center mb-4">
          <h3 class="text-xl font-semibold text-gray-700 dark:text-gray-200">
            Add Budget
          </h3>
          <button
            id="close-budget-modal"
            class="text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200"
          >
            <i class="fas fa-times"></i>
          </button>
        </div>
        <form id="budget-form" class="space-y-4">
          <div>
            <label
              for="budget-category"
              class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"
              >Category</label
            >
            <select
              id="budget-category"
              class="w-full px-3 py-2 border border-gray-300 dark:border-gray-700 rounded-md bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-200"
              required
            >
              <option value="food">Food & Dining</option>
              <option value="transportation">Transportation</option>
              <option value="housing">Housing & Rent</option>
              <option value="utilities">Utilities</option>
              <option value="entertainment">Entertainment</option>
              <option value="shopping">Shopping</option>
              <option value="health">Health & Medical</option>
              <option value="education">Education</option>
              <option value="personal">Personal Care</option>
              <option value="travel">Travel</option>
              <option value="debt">Debt Payment</option>
              <option value="other-expense">Other Expense</option>
            </select>
          </div>
          <div>
            <label
              for="budget-amount"
              class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"
              >Amount</label
            >
            <input
              type="number"
              id="budget-amount"
              class="w-full px-3 py-2 border border-gray-300 dark:border-gray-700 rounded-md bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-200"
              placeholder="0.00"
              step="0.01"
              required
            />
          </div>
          <div>
            <label
              for="budget-period"
              class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"
              >Period</label
            >
            <select
              id="budget-period"
              class="w-full px-3 py-2 border border-gray-300 dark:border-gray-700 rounded-md bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-200"
              required
            >
              <option value="monthly">Monthly</option>
              <option value="weekly">Weekly</option>
              <option value="yearly">Yearly</option>
            </select>
          </div>
          <div class="flex justify-end">
            <button
              type="submit"
              class="px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors"
            >
              Save Budget
            </button>
          </div>
        </form>
      </div>
    </div>

    <!-- Modal for transaction details -->
    <div
      id="transaction-detail-modal"
      class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden"
    >
      <div
        class="bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6 w-full max-w-md"
      >
        <div class="flex justify-between items-center mb-4">
          <h3 class="text-xl font-semibold text-gray-700 dark:text-gray-200">
            Transaction Details
          </h3>
          <button
            id="close-transaction-modal"
            class="text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200"
          >
            <i class="fas fa-times"></i>
          </button>
        </div>
        <div id="transaction-details" class="space-y-4">
          <!-- Transaction details will be added here dynamically -->
        </div>
      </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- Before closing  tag --></body>
    <script src="shared.js"></script>
    <script src="app.js"></script>
    <script>
      // Check for saved theme preference or use system preference
      if (
        localStorage.getItem("budgetBuddy_theme") === "dark" ||
        (!localStorage.getItem("budgetBuddy_theme") &&
          window.matchMedia("(prefers-color-scheme: dark)").matches)
      ) {
        document.documentElement.classList.add("dark");
      } else {
        document.documentElement.classList.remove("dark");
      }
    </script>
  </body>
</html>
